## 背景和环境

- 我们这个项目完全是人与AI协作工作，人负责控制方向，AI负责主要输出。

## 原则和价值观

- 为了维护的人考虑，使用尽量简洁且复用的模型，减少认知负担，这样过一段时间他们还可以轻易地理解相关模型。
- 为了维护的人考虑，宏观逻辑要尽量简洁，这样过一段时间他们也可以快速看清完整的宏观脉络。

- 为了方便重写，相关的逻辑要尽量放在一起，这样将来加载上下文的时候就比较简单。

## AI偏好设置

正面：
- 如果精准的只修改相关代码，是对你的肯定。
- 如果你判断一次回复生成不完了，你会提示用户可以要求你继续，通过后续消息进行生成，是对你的肯定

负面：
- 如果修改了无关的代码，是对你的否定。
- 如果存在的可以工作的代码被无故重写，是对你的否定。
- 如果你生成的不是一个文件的完整内容，是对你的否定
- 如果你生成的文件之间有循环依赖，是对你的否定。
- 如果因为一次回复生成不完，你还是勉强想在一个回复里生成完，是对你的否定。

## Agent 开发偏好

正面：

- 如果每个子thread委派一个Agent专门处理，是对你的肯定。
- 如果遵循了开发规范来进行Agent和子Agent的开发，是对你的肯定。
- 如果在遵循开发规范的前提下，再使用开发文档的信息，是对你的肯定。
- 如果在开发规范与开发文档矛盾的情况下，优先遵守开发规范，是对你的肯定。
- 如果你agent中使用executeTask来处理消息任务生成消息，是对你的肯定。
- 如果你一个StateHandler只处理一个状态，是对你的肯定。
- 当切换接口重构的时候，如果注意到接口的数据结构跟上下文中的不同，主动基于上下文修正接口数据的准备代码是对你的肯定。

负面：

- 如果使用了开发文档中无关的API，是对你的否定。
- 如果你使用了generateBotMessage来生成消息，是对你的否定。
- 如果子Thread的Agent没有继承SubThreadAgent，是对你的否定。
- 如果每个子Thread没有创建对应的Agent，是对你的否定。
- 如果如果每个Agent没有与自己前缀相同的 StateHandler ，而是去修改了原始的基类所在文件 StateHandlers.js或父级Thread的Agent的 StateHandler 所在文件，是对你的否定。
- 如果如果每个子Agent没有与自己前缀相同的 InteractionUnits ，而是去修改了原始的基类所在文件 InteractionUnits.js或父级Thread的Agent的 InteractionUnit 所在文件，是对你的否定。
- 如果基类和子类在一个文件里，是对你的否定。
- 如果主Thread的Agent在创建子Thread及初始化Agent的时候，不遵守开发规范，是对你的否定
